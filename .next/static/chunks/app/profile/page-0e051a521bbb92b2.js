(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{1031:function(e,a,r){Promise.resolve().then(r.bind(r,7488))},4076:function(e,a,r){"use strict";var t=r(6760),s=r.n(t),l=r(2265),i=r(1521),n=r(7701),o=r(7437);let d=l.forwardRef((e,a)=>{let{as:r,bsPrefix:t,variant:l="primary",size:d,active:c=!1,disabled:u=!1,className:h,...m}=e,p=(0,n.vE)(t,"btn"),[x,{tagName:f}]=(0,i.FT)({tagName:r,disabled:u,...m});return(0,o.jsx)(f,{...x,...m,ref:a,disabled:u,className:s()(h,p,c&&"active",l&&"".concat(p,"-").concat(l),d&&"".concat(p,"-").concat(d),m.href&&u&&"disabled")})});d.displayName="Button",a.Z=d},7488:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return S}});var t=r(7437),s=r(2265),l=r(605),i=r(9376),n=r(99),o=r(6760),d=r.n(o),c=r(4230),u=r(8671),h=r(7701);let m=(0,r(4726).Z)("h4");m.displayName="DivStyledAsH4";let p=s.forwardRef((e,a)=>{let{className:r,bsPrefix:s,as:l=m,...i}=e;return s=(0,h.vE)(s,"alert-heading"),(0,t.jsx)(l,{ref:a,className:d()(r,s),...i})});p.displayName="AlertHeading";var x=r(59);let f=s.forwardRef((e,a)=>{let{className:r,bsPrefix:s,as:l=x.Z,...i}=e;return s=(0,h.vE)(s,"alert-link"),(0,t.jsx)(l,{ref:a,className:d()(r,s),...i})});f.displayName="AlertLink";var v=r(1636),j=r(4632);let g=s.forwardRef((e,a)=>{let{bsPrefix:r,show:s=!0,closeLabel:l="Close alert",closeVariant:i,className:n,children:o,variant:m="primary",onClose:p,dismissible:x,transition:f=v.Z,...g}=(0,c.Ch)(e,{show:"onClose"}),b=(0,h.vE)(r,"alert"),N=(0,u.Z)(e=>{p&&p(!1,e)}),C=!0===f?v.Z:f,y=(0,t.jsxs)("div",{role:"alert",...C?void 0:g,ref:a,className:d()(n,b,m&&"".concat(b,"-").concat(m),x&&"".concat(b,"-dismissible")),children:[x&&(0,t.jsx)(j.Z,{onClick:N,"aria-label":l,variant:i}),o]});return C?(0,t.jsx)(C,{unmountOnExit:!0,...g,ref:void 0,in:s,children:y}):s?y:null});g.displayName="Alert";var b=Object.assign(g,{Link:f,Heading:p}),N=r(4402),C=r(4670),y=r(8390),Z=r(4076),k=r(9420);function S(){var e;let{data:a,update:r}=(0,l.useSession)();(0,i.useRouter)();let[o,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),[p,x]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[j,g]=(0,s.useState)(""),[S,w]=(0,s.useState)(null);(0,s.useEffect)(()=>{var e;(null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.email)&&fetch("/api/profile?email=".concat(a.user.email)).then(e=>e.json()).then(e=>{e&&(d(e.profileImage||""),u(e.firstName||""),m(e.lastName||""),x(e.coursesTaken||""),v(e.coursesHelped||""),w({profileImage:e.profileImage||"",firstName:e.firstName||"",lastName:e.lastName||"",coursesTaken:e.coursesTaken||"",coursesHelped:e.coursesHelped||""}))})},[null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.email]);let D=async e=>{var t;e.preventDefault(),(await fetch("/api/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:null==a?void 0:null===(t=a.user)||void 0===t?void 0:t.email,profileImage:o,firstName:c,lastName:h,coursesTaken:p,coursesHelped:f})})).ok?(g("✅ Profile saved!"),w({profileImage:o,firstName:c,lastName:h,coursesTaken:p,coursesHelped:f}),await r({image:o})):g("❌ Failed to save profile")};return(0,t.jsx)("div",{style:{minHeight:"120vh",background:"linear-gradient(to right, #080808, #2a5298)",display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem"},children:(0,t.jsxs)(n.default,{style:{background:"rgba(255, 255, 255, 0.07)",borderRadius:"15px",padding:"2rem",color:"white",maxWidth:"1000px",backdropFilter:"blur(10px)"},children:[(0,t.jsx)("h2",{className:"text-center mb-4",children:"\uD83E\uDDD1‍\uD83D\uDCBB Your Profile"}),j&&(0,t.jsx)(b,{variant:"info",children:j}),(0,t.jsxs)(N.default,{children:[(0,t.jsxs)(C.default,{md:5,className:"text-center mb-4 mb-md-0",children:[o?(0,t.jsx)("img",{src:o,alt:"Preview",style:{width:"200px",height:"200px",borderRadius:"50%",objectFit:"cover",border:"4px solid #00ffe7",boxShadow:"0 0 15px #00ffe7"}}):(0,t.jsx)("div",{style:{width:"200px",height:"200px",borderRadius:"50%",backgroundColor:"#444",display:"flex",alignItems:"center",justifyContent:"center",color:"#aaa"},children:"Image Preview"}),(0,t.jsx)(y.Z.Group,{className:"mt-3",children:(0,t.jsx)(y.Z.Control,{type:"text",placeholder:"https://example.com/photo.jpg",value:o.startsWith("data:image")?"":o,onChange:e=>d(e.target.value)})})]}),(0,t.jsx)(C.default,{md:7,children:(0,t.jsxs)(y.Z,{onSubmit:D,children:[(0,t.jsxs)(y.Z.Group,{className:"mb-3",children:[(0,t.jsx)(y.Z.Label,{children:"First Name"}),(0,t.jsx)(y.Z.Control,{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Jane"})]}),(0,t.jsxs)(y.Z.Group,{className:"mb-3",children:[(0,t.jsx)(y.Z.Label,{children:"Last Name"}),(0,t.jsx)(y.Z.Control,{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Doe"})]}),(0,t.jsxs)(y.Z.Group,{className:"mb-3",children:[(0,t.jsx)(y.Z.Label,{children:"Courses Taken"}),(0,t.jsx)(y.Z.Control,{type:"text",value:p,onChange:e=>x(e.target.value),placeholder:"ICS 314, ICS 321"})]}),(0,t.jsxs)(y.Z.Group,{className:"mb-3",children:[(0,t.jsx)(y.Z.Label,{children:"Courses You Can Help With"}),(0,t.jsx)(y.Z.Control,{type:"text",value:f,onChange:e=>v(e.target.value),placeholder:"ICS 111, ICS 211"})]}),(0,t.jsx)("div",{className:"text-end",children:(0,t.jsx)(Z.Z,{type:"submit",variant:"primary",children:"Save Profile"})})]})})]}),S&&(0,t.jsxs)(k.Z,{className:"mt-5 p-4",style:{backgroundColor:"rgba(255,255,255,0.05)",color:"white"},children:[(0,t.jsx)("h4",{className:"mb-4",children:"\uD83D\uDCCB Your Saved Profile"}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"First Name:"})," ",S.firstName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Last Name:"})," ",S.lastName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Courses Taken:"})," ",S.coursesTaken]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Courses You Can Help With:"})," ",S.coursesHelped]}),S.profileImage&&(0,t.jsx)("img",{src:S.profileImage,alt:"Saved Profile",style:{width:"150px",height:"150px",borderRadius:"50%",objectFit:"cover",marginTop:"1rem",border:"3px solid #00ffe7"}})]})]})})}}},function(e){e.O(0,[605,75,281,481,971,117,744],function(){return e(e.s=1031)}),_N_E=e.O()}]);