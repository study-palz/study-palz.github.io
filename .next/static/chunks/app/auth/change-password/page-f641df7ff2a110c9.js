(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[263],{3028:function(s,e,r){Promise.resolve().then(r.bind(r,3610))},3610:function(s,e,r){"use strict";r.r(e),r.d(e,{default:function(){return v}});var a=r(7437),d=r(9501),n=r(605),i=r(3842),o=r(4422),l=r(25),t=r.n(l),c=r(99),u=r(4402),h=r(4670),m=r(9420),w=r(8390),p=r(4076);r(3079);var x=(0,r(2119).$)("d52bd121ae14ab5077a514a75c32d92cb78a32e5"),j=r(279),f=()=>(0,a.jsx)(c.default,{children:(0,a.jsxs)(u.default,{className:"justify-content-md-center",children:[(0,a.jsx)(j.Z,{animation:"border"}),"Getting data"]})}),v=()=>{var s,e,r,l;let{data:j,status:v}=(0,n.useSession)(),b=(null==j?void 0:null===(s=j.user)||void 0===s?void 0:s.email)||"",Z=o.Ry().shape({oldpassword:o.Z_().required("Current password is required"),password:o.Z_().required("New password is required").min(6,"Password must be at least 6 characters").max(40,"Password must not exceed 40 characters"),confirmPassword:o.Z_().required("Confirm password is required").oneOf([o.iH("password"),""],"Passwords must match")}),{register:C,handleSubmit:y,reset:P,formState:{errors:N}}=(0,d.cI)({resolver:(0,i.X)(Z)}),g=async s=>{let e={email:b,...s};await x(e),await t()("Password Changed","Your password has been changed","success",{timer:2e3}),P()};return"loading"===v?(0,a.jsx)(f,{}):(0,a.jsx)("main",{children:(0,a.jsx)(c.default,{children:(0,a.jsx)(u.default,{className:"justify-content-center",children:(0,a.jsxs)(h.default,{xs:5,children:[(0,a.jsx)("h1",{className:"text-center",children:"Change Password"}),(0,a.jsx)(m.Z,{children:(0,a.jsx)(m.Z.Body,{children:(0,a.jsxs)(w.Z,{onSubmit:y(g),children:[(0,a.jsxs)(w.Z.Group,{className:"mb-3",children:[(0,a.jsx)(w.Z.Label,{children:"Current Password"}),(0,a.jsx)(w.Z.Control,{type:"password",...C("oldpassword"),isInvalid:!!N.oldpassword}),(0,a.jsx)(w.Z.Control.Feedback,{type:"invalid",children:null===(e=N.oldpassword)||void 0===e?void 0:e.message})]}),(0,a.jsxs)(w.Z.Group,{className:"mb-3",children:[(0,a.jsx)(w.Z.Label,{children:"New Password"}),(0,a.jsx)(w.Z.Control,{type:"password",...C("password"),isInvalid:!!N.password}),(0,a.jsx)(w.Z.Control.Feedback,{type:"invalid",children:null===(r=N.password)||void 0===r?void 0:r.message})]}),(0,a.jsxs)(w.Z.Group,{className:"mb-3",children:[(0,a.jsx)(w.Z.Label,{children:"Confirm Password"}),(0,a.jsx)(w.Z.Control,{type:"password",...C("confirmPassword"),isInvalid:!!N.confirmPassword}),(0,a.jsx)(w.Z.Control.Feedback,{type:"invalid",children:null===(l=N.confirmPassword)||void 0===l?void 0:l.message})]}),(0,a.jsxs)(u.default,{className:"pt-3",children:[(0,a.jsx)(h.default,{children:(0,a.jsx)(p.Z,{type:"submit",variant:"primary",children:"Change"})}),(0,a.jsx)(h.default,{children:(0,a.jsx)(p.Z,{type:"button",onClick:()=>P(),variant:"warning",children:"Reset"})})]})]})})})]})})})})}}},function(s){s.O(0,[605,987,89,971,117,744],function(){return s(s.s=3028)}),_N_E=s.O()}]);